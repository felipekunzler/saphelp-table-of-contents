<form [formGroup]="tocForm" (ngSubmit)="onSubmit(tocForm.value)">
    <div class="row align-items-end">
        <div  class="col-md-6">
            <label>Product</label>
            <ng-select [items]="products | async" 
                bindLabel="name"
                bindValue="code"    
                formControlName="product"
                (change)="onProductChanged(false)">
            </ng-select>
        </div>
        <div class="col-md-4">
            <label>Version</label>
            <ng-select [items]="versions | async" 
                bindLabel="value"
                bindValue="key"
                formControlName="version">
            </ng-select>
        </div>
        <div class="col-md-2 ">
            <button class="button" type="submit" [disabled]="loading" >Load</button>
        </div>
    </div>

</form>

<div style="margin-top: 10px">Links loaded: {{ pagesLoaded }}</div>
<br>
<div *ngIf="loading">
    <span>Loading Table of Contents...</span>
</div>

<div *ngIf="!loading">
    <button (click)="onExpandAllPagesClick()">Expand all</button>
    <button (click)="onCollapseAllPagesClick()">Collapse all</button>
</div>
<div *ngFor="let link of links">
    <ul>
        <app-toc [link]="link"></app-toc>
    </ul>
</div>
